<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Raksha Bandhan!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&family=Inter:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        /* Custom styles and animations */
        @keyframes animated-gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(-45deg, #fce7f3, #fbcfe8, #f9a8d4, #f472b6);
            background-size: 400% 400%;
            animation: animated-gradient 15s ease infinite;
            overflow: hidden;
            /* Hide scrollbars during animation */
        }

        .font-dancing {
            font-family: 'Dancing Script', cursive;
        }

        .font-playfair {
            font-family: 'Dancing Script', cursive;
        }

        .card {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            perspective: 1000px;
        }

        .card.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .card-inner {
            transition: transform 0.5s ease;
        }

        .card:hover .card-inner {
            transform: rotateY(5deg) rotateX(5deg) scale(1.05);
        }

        /* New Modal Style */
        .message-modal {
            background-color: #fff;
            border: 2px solid #fbcfe8;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        #modal-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #modal-message {
            position: relative;
            z-index: 2;
        }

        #intro-screen {
            transition: opacity 1s ease-in-out;
        }

        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
        }

        .text-shadow-md {
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
        }
    </style>
</head>

<body class="text-gray-800">
   
    <canvas id="fireworks-canvas" class="fixed inset-0 z-0 pointer-events-none"></canvas>

    <!-- Intro Screen -->
    <div id="intro-screen" class="fixed inset-0 z-[10000] overflow-hidden bg-black">
        <video id="rakhi-video"
            class="absolute top-1/2 left-1/2 min-w-full min-h-full w-auto h-auto -translate-x-1/2 -translate-y-1/2 object-cover z-0 opacity-0 transition-opacity duration-1000"
            playsinline>
            <source
                src="Happy Raksha Bandhan 2023 __ Motion Graphic Video of Rakshabandhan __ After effect animation.mp4"
                type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <canvas id="background-animation-canvas" class="absolute inset-0 z-10"></canvas>
        <div id="dark-overlay" class="absolute inset-0 bg-black bg-opacity-30 z-20 transition-opacity duration-1000">
        </div>
        <div id="intro-content-overlay"
            class="relative z-30 flex flex-col items-center justify-center h-full text-white p-4 transition-opacity duration-500">
            <h1 class="text-4xl md:text-7xl font-bold font-dancing mb-4 text-shadow">Pyaar ka Bandhan</h1>
            <p class="text-lg md:text-xl mb-8 max-w-lg mx-auto text-center text-shadow-md">Ek dhaaga jo bhai-behen ke
                atoot rishte ko aur bhi mazboot banata hai. Is tyohaar ko hamare saath manayein.</p>
            <button id="click-me-btn"
                class="bg-pink-500 text-white font-bold py-3 px-8 rounded-full text-xl hover:bg-pink-600 transition-all duration-300 glow-button">
                Click Me
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" class="hidden min-h-screen w-full flex flex-col items-center justify-center p-4 md:p-8">
        <div class="text-center mb-8 md:mb-12">
            <h1 class="text-5xl md:text-7xl font-bold text-white font-playfair text-shadow">Happy Raksha Bandhan</h1>
            <p class="text-lg md:text-xl text-white mt-2 text-shadow-md">A celebration of the purest bond of love.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
            <div id="card-1" class="card">
                <div class="card-inner bg-white rounded-2xl shadow-xl overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1609234813022-247ac0098198?q=80&w=1974&auto=format&fit=crop"
                        onerror="this.onerror=null;this.src='sister brother.png';"
                        alt="Bhai aur Behen Raksha Bandhan manate hue" class="w-full h-64 object-cover">
                    <div class="p-6 text-center">
                        <button
                            class="reveal-btn bg-pink-500 text-white font-bold py-3 px-6 rounded-full hover:bg-pink-600 transition-all duration-300"
                            data-message="To my dearest brother, you have always been my protector and my best friend. Thank you for all the love and support. Happy Raksha Bandhan!">
                            Reveal Message
                        </button>
                    </div>
                </div>
            </div>
            <div id="card-2" class="card">
                <div class="card-inner bg-white rounded-2xl shadow-xl overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1605826744123-579c86de248f?q=80&w=2070&auto=format&fit=crop"
                        onerror="this.onerror=null;this.src='Traditional thali.webp';"
                        alt="Sundar Rakhi ki thali" class="w-full h-64 object-cover">
                    <div class="p-6 text-center">
                        <button
                            class="reveal-btn bg-purple-500 text-white font-bold py-3 px-6 rounded-full hover:bg-purple-600 transition-all duration-300"
                            data-message="May the thread of Rakhi always keep our bond strong and our hearts connected, no matter where we are. Wishing you a joyous celebration!">
                            Reveal Message
                        </button>
                    </div>
                </div>
            </div>
            <div id="card-3" class="card">
                <div class="card-inner bg-white rounded-2xl shadow-xl overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1597920164293-17eb4c617c18?q=80&w=1932&auto=format&fit=crop"
                        onerror="this.onerror=null;this.src='gift.webp';"
                        alt="Ek khaas tohfa" class="w-full h-64 object-cover">
                    <div class="p-6 text-center">
                        <button
                            class="reveal-btn bg-orange-400 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-500 transition-all duration-300"
                            data-message="You are the most precious gift in my life. On this auspicious day, I wish you all the happiness and success in the world. Happy Rakhi!">
                            Reveal Message
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div id="continue-wrapper" class="hidden mt-10 flex justify-center">
     <button id="continue-after-messages"
        class="bg-gradient-to-r from-pink-500 to-yellow-500 text-white font-bold py-3 px-10 rounded-full text-xl shadow-lg hover:scale-105 transition-transform duration-300">
        üéÅ Continue ‚Üí
     </button>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black bg-opacity-60" id="modal-backdrop"></div>
        <div
            class="message-modal rounded-2xl w-full max-w-md mx-auto p-8 text-center relative transform scale-95 transition-transform duration-300">
            <canvas id="modal-canvas"></canvas>
            <p id="modal-message" class="font-dancing text-4xl text-rose-800"></p>
            <button id="close-modal-btn" class="absolute top-3 right-3 text-gray-700 hover:text-black z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // All element selections
            const introScreen = document.getElementById('intro-screen');
            const clickMeBtn = document.getElementById('click-me-btn');
            const mainContent = document.getElementById('main-content');
            const introContentOverlay = document.getElementById('intro-content-overlay');
            const rakhiVideo = document.getElementById('rakhi-video');
            const darkOverlay = document.getElementById('dark-overlay');

            const bgCanvas = document.getElementById('background-animation-canvas');
            const bgCtx = bgCanvas.getContext('2d');
            let bgParticlesArray = [];

            const modal = document.getElementById('message-modal');
            const modalMessage = document.getElementById('modal-message');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const modalBackdrop = document.getElementById('modal-backdrop');
            const revealBtns = document.querySelectorAll('.reveal-btn');

            // Modal Canvas
            const modalCanvas = document.getElementById('modal-canvas');
            const modalCtx = modalCanvas.getContext('2d');
            let modalParticlesArray = [];
            let modalAnimationId;

            // --- Background Animation ---
            function setupCanvas(canvas, context, particleArray, particleClass, count) {
                canvas.width = canvas.parentElement.offsetWidth;
                canvas.height = canvas.parentElement.offsetHeight;
                particleArray.length = 0; // Clear existing particles
                for (let i = 0; i < count; i++) {
                    particleArray.push(new particleClass(canvas));
                }
            }

            class BgParticle {
                constructor(canvas) {
                    this.canvas = canvas;
                    this.x = Math.random() * this.canvas.width;
                    this.y = Math.random() * this.canvas.height;
                    this.size = Math.random() * 5 + 1;
                    this.speedX = Math.random() * 2 - 1;
                    this.speedY = Math.random() * 2 - 1;
                    this.color = `rgba(255, 215, 0, ${Math.random() * 0.5 + 0.3})`;
                    this.isRakhi = Math.random() > 0.9;
                    if (this.isRakhi) {
                        this.color = `rgba(225, 29, 72, ${Math.random() * 0.6 + 0.4})`;
                        this.size = Math.random() * 8 + 4;
                    }
                }
                update() {
                    if (this.x > this.canvas.width || this.x < 0) this.speedX = -this.speedX;
                    if (this.y > this.canvas.height || this.y < 0) this.speedY = -this.speedY;
                    this.x += this.speedX;
                    this.y += this.speedY;
                }
                draw(context) {
                    context.fillStyle = this.color;
                    context.beginPath();
                    context.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    context.fill();
                }
            }

            function animate(canvas, context, particleArray) {
                context.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particleArray.length; i++) {
                    particleArray[i].update();
                    particleArray[i].draw(context);
                }
                return requestAnimationFrame(() => animate(canvas, context, particleArray));
            }

            setupCanvas(bgCanvas, bgCtx, bgParticlesArray, BgParticle, 50);
            animate(bgCanvas, bgCtx, bgParticlesArray);
            window.addEventListener('resize', () => setupCanvas(bgCanvas, bgCtx, bgParticlesArray, BgParticle, 50));

            // --- Modal Animation ---
            class ModalParticle extends BgParticle {
                constructor(canvas) {
                    super(canvas);
                    this.color = `rgba(252, 211, 77, ${Math.random() * 0.7 + 0.2})`; // Brighter gold
                    this.size = Math.random() * 3 + 1;
                    this.speedY = Math.random() * -1.5 - 0.5; // Move upwards
                }
                update() {
                    this.y += this.speedY;
                    this.x += this.speedX;
                    if (this.y < 0) {
                        this.y = this.canvas.height;
                        this.x = Math.random() * this.canvas.width;
                    }
                }
            }

            function startModalAnimation() {
                setupCanvas(modalCanvas, modalCtx, modalParticlesArray, ModalParticle, 70);
                const animateLoop = () => {
                    modalCtx.clearRect(0, 0, modalCanvas.width, modalCanvas.height);
                    modalParticlesArray.forEach(p => {
                        p.update();
                        p.draw(modalCtx);
                    });
                    modalAnimationId = requestAnimationFrame(animateLoop);
                };
                animateLoop();
            }

            function stopModalAnimation() {
                cancelAnimationFrame(modalAnimationId);
            }

            // --- Main Logic ---
            function startExperience() {
              rakhiVideo.classList.remove('opacity-0');
              rakhiVideo.play();
              introContentOverlay.style.opacity = '0';
              darkOverlay.style.opacity = '0.1';
              setTimeout(() => { introContentOverlay.style.display = 'none'; }, 500);

              // Wait for video to finish
              rakhiVideo.addEventListener('ended', () => {
                  introScreen.style.opacity = '0';
                  setTimeout(() => {
                      introScreen.style.display = 'none';
                      document.body.style.overflow = 'auto';
                      mainContent.classList.remove('hidden');
                      const cards = document.querySelectorAll('.card');
                      cards.forEach((card, index) => {
                          setTimeout(() => {
                              card.classList.add('visible');
                          }, index * 300);
                      });
                  }, 1000);
 });

            }

            // --- Modal Logic ---
            function showModal(message) {
                modalMessage.textContent = message;
                modal.classList.remove('hidden');
                startModalAnimation();
                setTimeout(() => {
                    modal.querySelector('div.message-modal').classList.add('scale-100');
                }, 10);
            }

            function hideModal() {
                stopModalAnimation();
                modal.querySelector('div.message-modal').classList.remove('scale-100');
                setTimeout(() => { modal.classList.add('hidden'); }, 300);
            }

            revealBtns.forEach(btn => btn.addEventListener('click', () => showModal(btn.dataset.message)));
            closeModalBtn.addEventListener('click', hideModal);
            modalBackdrop.addEventListener('click', hideModal);
            clickMeBtn.addEventListener('click', startExperience, { once: true });
        });

    </script>
    <script>
    const canvas = document.getElementById('fireworks-canvas');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

    let particles = [];

    class Particle {
        constructor(x, y, color) {
            this.x = x;
            this.y = y;
            this.size = Math.random() * 3 + 2;
            this.speedX = Math.random() * 5 - 2.5;
            this.speedY = Math.random() * 5 - 2.5;
            this.color = color;
            this.life = 100;
        }

        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            this.life--;
        }

        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();
        }
    }

    function launchFirework() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height * 0.5;
        const colors = ['#ff4d4d', '#ffd11a', '#4dff88', '#4da6ff', '#ff66d9'];
        const color = colors[Math.floor(Math.random() * colors.length)];
        for (let i = 0; i < 30; i++) {
            particles.push(new Particle(x, y, color));
        }
    }

    function animate() {
        ctx.fillStyle = 'rgba(0,0,0,0.1)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => {
            p.update();
            p.draw();
            if (p.life <= 0) {
                particles.splice(i, 1);
            }
        });
        requestAnimationFrame(animate);
    }

    setInterval(launchFirework, 1000);
    animate();
    document.getElementById('continue-after-messages').addEventListener('click', () => {
    window.location.href = "next.html"; // change this to your actual next page
});

</script>

</body>
</html>